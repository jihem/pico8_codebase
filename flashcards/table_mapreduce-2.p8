pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--[[
   _._ 
 o|- -|o this file is licensed under cc4-by-nc-sa international license.
  ( l )  to view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/
    =    author: jean-marc "jihem" quere 2020 - jean-marc.quere@codyssea.com
--]]

function _map(t,f,k)
 k=next(t,k)
 if (k) t[k]=f(k,t[k]) _map(t,f,k)
end
function _reduce(t,f,a,k)
 k=next(t,k)
 if (k) then return _reduce(t,f,f(t[k],a),k)
 else return a end
end

t={1,3,5}
_map(t,function(k,v)
 return k%2*v^2
end)
foreach(t,print)
print(_reduce(t,function(v,a)
 return v+a
end,0))
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
